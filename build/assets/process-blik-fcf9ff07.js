function _(){import.meta.url,import("_").catch(()=>1);async function*o(){}}async function f(o,w,i){let h=$(".blik-seconds"),s=$(".blik-step-1"),n=$(".blik-step-2");s.hide(),n.show();const a=m(),k=Date.now();let l=0;const r=await $.post(o,w).catch(t=>(a(),t));let e=[];if(r.redirect)return window.location=r.redirect;for(;l<120&&r.return_url&&r.authorized&&(await new Promise(t=>setTimeout(t,2e3)),e=await $.post(r.return_url),!(e.status&&e.status==="approved"));)l=Math.round((Date.now()-k)/1e3);if(e.redirect)return window.location=e.redirect;if(e.next_page)return window.location=e.next_page;if(a(),i)i.validatorShowErrors({error:"Blik session expired. Please re-enter Blik code"});else throw"Blik session expired. Please re-enter Blik code";function m(){const t=Date.now(),d=()=>{let p=Math.round((Date.now()-t)/1e3);h.text(120-p),p>=120&&c(u)};d();let u=setInterval(d,200);return()=>c(u)}function c(t){clearInterval(t),s.show(),$('[name="blik_code"]').val(""),n.hide()}}window.processBlik=f;export{_ as __vite_legacy_guard,f as p};
